### **Rsync –º–µ–∂–¥—É Linux –∏ Windows: NFS, SMB (Samba), SSH**  

–í —ç—Ç–æ–º —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–µ —Ä–∞—Å—Å–º–æ—Ç—Ä–∏–º **3 —Å–ø–æ—Å–æ–±–∞** —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ —Ñ–∞–π–ª–æ–≤ –º–µ–∂–¥—É Linux –∏ Windows:  
1. **Rsync + SSH** (–µ—Å–ª–∏ –Ω–∞ Windows —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω OpenSSH)  
2. **Rsync + SMB (Samba)** (–µ—Å–ª–∏ Windows —Ä–∞—Å—à–∞—Ä–∏–≤–∞–µ—Ç –ø–∞–ø–∫—É)  
3. **Rsync + NFS** (–µ—Å–ª–∏ Windows –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∫–∞–∫ NFS-—Å–µ—Ä–≤–µ—Ä)  

---

## **‚ë† –°–ø–æ—Å–æ–± 1: Rsync —á–µ—Ä–µ–∑ SSH (Windows –∫–∞–∫ —Å–µ—Ä–≤–µ—Ä)**  
### **–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**  
- –ù–∞ Windows —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω **SSH-—Å–µ—Ä–≤–µ—Ä** (OpenSSH).  
- Rsync –Ω–∞ Linux (–æ–±—ã—á–Ω–æ –ø—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω).  

### **1. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ OpenSSH –Ω–∞ Windows**  
1. **Windows 10/11:**  
   ```powershell
   # –£—Å—Ç–∞–Ω–æ–≤–∫–∞ OpenSSH (–µ—Å–ª–∏ –Ω–µ—Ç)
   Add-WindowsCapability -Online -Name OpenSSH.Server~~~~0.0.1.0
   # –ó–∞–ø—É—Å–∫ –∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ –∞–≤—Ç–æ–∑–∞–≥—Ä—É–∑–∫—É
   Start-Service sshd
   Set-Service -Name sshd -StartupType 'Automatic'
   ```
2. **–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è —Å Linux:**  
   ```bash
   ssh username@windows_ip
   ```

### **2. –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ rsync**  
```bash
rsync -avz --progress -e "ssh -p 22" /–ø—É—Ç—å/–Ω–∞/linux/ username@windows_ip:/C:/–ø—É—Ç—å/–Ω–∞/windows/
```
- **`/C:/`** ‚Äî —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –¥–∏—Å–∫ `C:` –≤ Windows.  
- –ï—Å–ª–∏ SSH –Ω–∞ –Ω–µ—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–º –ø–æ—Ä—Ç—É ‚Üí `-p 2222`.  

---

## **‚ë° –°–ø–æ—Å–æ–± 2: Rsync —á–µ—Ä–µ–∑ SMB (Samba, –æ–±—â–∞—è –ø–∞–ø–∫–∞ Windows)**  
### **–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**  
- Windows —Ä–∞—Å—à–∞—Ä–∏–≤–∞–µ—Ç –ø–∞–ø–∫—É (SMB).  
- Linux –º–æ–∂–µ—Ç –º–æ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å SMB-—à–∞—Ä—É (`cifs-utils`).  

### **1. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–±—â–µ–π –ø–∞–ø–∫–∏ –Ω–∞ Windows**  
1. –ü—Ä–∞–≤–æ–π –∫–Ω–æ–ø–∫–æ–π ‚Üí **–°–≤–æ–π—Å—Ç–≤–∞ ‚Üí –î–æ—Å—Ç—É–ø ‚Üí –û–±—â–∏–π –¥–æ—Å—Ç—É–ø**.  
2. –î–∞–π—Ç–µ –ø—Ä–∞–≤–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `Everyone` **–ß—Ç–µ–Ω–∏–µ/–ó–∞–ø–∏—Å—å**).  
3. –ó–∞–ø–æ–º–Ω–∏—Ç–µ –ø—É—Ç—å: `\\IP\ShareName`.  

### **2. –ú–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ SMB –Ω–∞ Linux**  
```bash
sudo apt install cifs-utils  # Debian/Ubuntu
sudo yum install cifs-utils  # CentOS/RHEL

sudo mkdir /mnt/win_share
sudo mount -t cifs -o username=win_user,password=–ø–∞—Ä–æ–ª—å //windows_ip/ShareName /mnt/win_share
```
- –ï—Å–ª–∏ –ø–∞—Ä–æ–ª—å –ø—É—Å—Ç–æ–π ‚Üí `password=""`.  
- –ï—Å–ª–∏ –¥–æ–º–µ–Ω–Ω–∞—è —É—á—ë—Ç–∫–∞ ‚Üí `username=DOMAIN\User`.  

### **3. Rsync –º–µ–∂–¥—É Linux –∏ —Å–º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –ø–∞–ø–∫–æ–π**  
```bash
rsync -avz --progress /–ø—É—Ç—å/–Ω–∞/linux/ /mnt/win_share/
```
- –ü–æ—Å–ª–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –æ—Ç–º–æ–Ω—Ç–∏—Ä—É–π—Ç–µ:  
  ```bash
  sudo umount /mnt/win_share
  ```

---

## **‚ë¢ –°–ø–æ—Å–æ–± 3: Rsync —á–µ—Ä–µ–∑ NFS (–µ—Å–ª–∏ Windows ‚Äî NFS-—Å–µ—Ä–≤–µ—Ä)**  
### **–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**  
- Windows –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç **NFS-—Å–µ—Ä–≤–µ—Ä** (—Ç–æ–ª—å–∫–æ **Pro/Enterprise** –≤–µ—Ä—Å–∏–∏).  
- Linux –º–æ–∂–µ—Ç –º–æ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å NFS (`nfs-common`).  

### **1. –í–∫–ª—é—á–µ–Ω–∏–µ NFS-—Å–µ—Ä–≤–µ—Ä–∞ –Ω–∞ Windows**  
1. **–ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è ‚Üí –ü—Ä–æ–≥—Ä–∞–º–º—ã ‚Üí –í–∫–ª—é—á–µ–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ Windows**.  
2. –í—ã–±–µ—Ä–∏—Ç–µ:  
   - **–°–ª—É–∂–±–∞ NFS ‚Üí –°–µ—Ä–≤–µ—Ä NFS**  
   - **–ö–ª–∏–µ–Ω—Ç NFS** (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ –∏ —Å Windows –Ω–∞ Linux).  

### **2. –≠–∫—Å–ø–æ—Ä—Ç –ø–∞–ø–∫–∏ –Ω–∞ Windows**  
1. –ü—Ä–∞–≤–æ–π –∫–Ω–æ–ø–∫–æ–π ‚Üí **–°–≤–æ–π—Å—Ç–≤–∞ ‚Üí NFS-–¥–æ—Å—Ç—É–ø**.  
2. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø—Ä–∞–≤–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `Read/Write` –¥–ª—è Linux-IP).  

### **3. –ú–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ NFS –Ω–∞ Linux**  
```bash
sudo apt install nfs-common  # Debian/Ubuntu
sudo yum install nfs-utils   # CentOS/RHEL

sudo mkdir /mnt/win_nfs
sudo mount -t nfs windows_ip:/C/–ø—É—Ç—å/–Ω–∞/windows /mnt/win_nfs
```
- –ï—Å–ª–∏ –Ω—É–∂–Ω—ã –æ—Å–æ–±—ã–µ –ø—Ä–∞–≤–∞:  
  ```bash
  sudo mount -t nfs -o rw,noatime windows_ip:/Share /mnt/win_nfs
  ```

### **4. Rsync —á–µ—Ä–µ–∑ NFS**  
```bash
rsync -avz --progress /–ø—É—Ç—å/–Ω–∞/linux/ /mnt/win_nfs/
```
- –ü–æ—Å–ª–µ —Ä–∞–±–æ—Ç—ã –æ—Ç–º–æ–Ω—Ç–∏—Ä—É–π—Ç–µ:  
  ```bash
  sudo umount /mnt/win_nfs
  ```

---

## **–°—Ä–∞–≤–Ω–µ–Ω–∏–µ –º–µ—Ç–æ–¥–æ–≤**  
| –ú–µ—Ç–æ–¥       | –°–∫–æ—Ä–æ—Å—Ç—å | –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å | –ü—Ä–æ—Å—Ç–æ—Ç–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ |  
|-------------|---------|-------------|-------------------|  
| **SSH**     | ‚ö°‚ö°‚ö° | üîíüîíüîí (—à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ) | –°—Ä–µ–¥–Ω—è—è (–Ω–∞—Å—Ç—Ä–æ–π–∫–∞ SSH) |  
| **SMB**     | ‚ö°‚ö°     | üîí (–ø–∞—Ä–æ–ª—å –≤ plaintext) | –ü—Ä–æ—â–µ (–µ—Å–ª–∏ –µ—Å—Ç—å –æ–±—â–∞—è –ø–∞–ø–∫–∞) |  
| **NFS**     | ‚ö°‚ö°‚ö°   | üîí (–±–µ–∑ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è) | –°–ª–æ–∂–Ω–µ–µ (—Ç–æ–ª—å–∫–æ Windows Pro) |  

---

## **–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è (cron + rsync)**  
–î–æ–±–∞–≤—å—Ç–µ –≤ `crontab -e`:  
```bash
# Rsync –∫–∞–∂–¥—ã–µ 2 —á–∞—Å–∞ —á–µ—Ä–µ–∑ SSH
0 */2 * * * rsync -avz -e "ssh -p 22" /home/user/docs/ win_user@192.168.1.100:/C:/Backup/
```
- –õ–æ–≥–∏: `>> /var/log/rsync.log 2>&1`.  

---

## **–í—ã–≤–æ–¥**  
- **–õ—É—á—à–∞—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** ‚Üí **SSH**.  
- **–ü—Ä–æ—Å—Ç–æ—Ç–∞** ‚Üí **SMB** (–µ—Å–ª–∏ —É–∂–µ –µ—Å—Ç—å –æ–±—â–∞—è –ø–∞–ø–∫–∞).  
- **–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å** ‚Üí **NFS** (–Ω–æ —Å–ª–æ–∂–Ω–µ–µ –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ).  

**–ü—Ä–∏–º–µ—Ä –ø–æ–ª–Ω–æ–π –∫–æ–º–∞–Ω–¥—ã (SMB):**  
```bash
rsync -avz --delete --progress /data/ /mnt/win_share/backup/
```
(–£–¥–∞–ª–∏—Ç –ª–∏—à–Ω–∏–µ —Ñ–∞–π–ª—ã –≤ `backup/` –∏ –ø–æ–∫–∞–∂–µ—Ç –ø—Ä–æ–≥—Ä–µ—Å—Å.)  

–ù—É–∂–Ω—ã —É—Ç–æ—á–Ω–µ–Ω–∏—è? –ó–∞–¥–∞–≤–∞–π—Ç–µ –≤–æ–ø—Ä–æ—Å—ã! üöÄ